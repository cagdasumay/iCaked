@using EventApp.Models
@model EventApp.Models.UserOtel
@using System.Globalization;
@{
    ViewBag.Title = "Oteller";
    List<Otels> OtelList = (List<Otels>)ViewData["Otels"];
    List<UserOtel> Users = (List<UserOtel>)ViewData["UserOtels"];
    //List<OtelGuest> Guests = (List<OtelGuest>)ViewData["OtelGuests"];
    List<User> UserInfo = (List<User>)ViewData["UserInfo"];
    List<bool> Notifications = (List<bool>)ViewData["Notifications"];
}

<div class="page-content-wrapper">
    <!-- BEGIN CONTENT BODY -->
    <div class="page-content">
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li>
                    <a href="@Url.Action("OtelsEditable", "Events")">Oteller</a>
                    <i class="fa fa-circle"></i>
                </li>
                <li>
                    <span>Kullanıcı Kayıtları</span>
                </li>
            </ul>
        </div>
        <h1 class="page-title" style="float: left;">
            Kullanıcı Kayıtları
            <small>Ekle-Düzenle-Sil</small>
        </h1>

        <a href="@Url.Action("OtelsEditable", "Events")" id="continue-btn" class="btn success green button-next" style="float: right; margin-top: 20px; margin-right: 10px;">
            <i class="fa fa-arrow-circle-left"></i>
            Geri
        </a>

        <div class="row">
            <div class="col-md-12">
                <div class="portlet box green">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="fa fa-users"></i>Kayıtlı Kullanıcı Listesi
                        </div>
                        <div class="tools"> </div>
                    </div>
                    <div class="portlet-body">
                        <table class="table table-striped table-bordered table-hover" id="sample_2">
                            <thead>
                                <tr>
                                    <th> İsim </th>
                                    <th> Soyisim </th>
                                    <th> Otel Adı </th>
                                    <th> Giriş </th>
                                    <th> Çıkış </th>
                                    <th> Kişi Sayısı </th>
                                    <th> Rezervasyon </th>
                                    <th> Check-in </th>
                                </tr>
                            </thead>
                            <tbody>
                                @{
                                    for (int i = 0; i < Users.Count; i++)
                                    {
                                        <tr>
                                            <td>
                                                @{
                                                    if (Users[i].Reservation == false || Notifications[i] == false)
                                                    {
                                                        <i class="fa fa-warning" style="color: #ed6b75"></i>
                                                    }
                                                }
                                                <a href="@Url.Action("ApproveOtelApplication", "Events", new { UserOtelID = Users[i].Id})">@UserInfo[i].Name</a>
                                            </td>
                                            <td> <a href="@Url.Action("ApproveOtelApplication", "Events", new { UserOtelID = Users[i].Id})">@UserInfo[i].Surname</a> </td>
                                            @{
                                                for (int j = 0; j < OtelList.Count; j++)
                                                {
                                                    if (Users[i].OtelID == OtelList[j].Id)
                                                    {
                                                        <td> @OtelList[j].Name </td>
                                                    }
                                                }
                                            }                                           
                                            <td> @Users[i].CheckInStr </td>
                                            <td> @Users[i].CheckOutStr </td>
                                            <td style="text-align: center;"> @Users[i].NumberOfGuest </td>
                                            @{
                                                if (Users[i].Reservation == false)
                                                {
                                                    <td> Yapılmadı </td>
                                                }
                                                else
                                                {
                                                    <td> Yapıldı </td>
                                                }
                                            }
                                            @{
                                                if (Users[i].Reservation == true && Users[i].CheckIn == false)
                                                {
                                                    <td> Yapılmadı </td>
                                                }
                                                else if (Users[i].Reservation == true && Users[i].CheckIn == true)
                                                {
                                                    <td> Yapıldı </td>
                                                }
                                                else
                                                {
                                                    <td> Yapılmadı </td>
                                                }
                                            }
                                        </tr>
                                                }
                                }
                                
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- END CONTENT BODY -->
</div>

<!-- BEGIN CORE PLUGINS -->
<script src="../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="../assets/global/scripts/datatable.js" type="text/javascript"></script>
<script src="../assets/global/plugins/datatables/datatables.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN THEME GLOBAL SCRIPTS -->
<script src="../assets/global/scripts/app.min.js" type="text/javascript"></script>
<!-- END THEME GLOBAL SCRIPTS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../assets/pages/scripts/table-datatables-buttons.min.js" type="text/javascript"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN THEME LAYOUT SCRIPTS -->
<script src="../assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
<script src="../assets/layouts/layout/scripts/demo.min.js" type="text/javascript"></script>
<script src="../assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
<!-- END THEME LAYOUT SCRIPTS -->

