@model EventApp.Models.Map
@using EventApp.Models



@{
    ViewBag.Title = "Events";
    List<Event> ConferenceList = (List<Event>)Session["ConferenceList"];
    List<Event> MeetingList = (List<Event>)Session["MeetingList"];
    List<Event> PresentationList = (List<Event>)Session["PresentationList"];
    // Map map = (Map)Session["deletemap"]; Gereksiz

}

<script src="~/scripts/jquery-1.10.2.min.js"></script>

<script type="text/javascript">

    $(document).ready(function () {
        $("#id").change(function () {
            var type = $("#id").val();
            $("#back-btn").attr("href", "/Map/Delete?id=" + type);
        });

        $("#id").change(function () {
            var type = $("#id").val();
            $("#back-btn").attr("href", "/Map/Delete?id=" + type);
        });


        $(".delete-type").click(function () {
            var hidden = $(this).attr("data-td");
            $("." + hidden).slideToggle(200);
        });

    });

</script>

<div class="page-content-wrapper">
    <!-- BEGIN CONTENT BODY -->
    <div class="page-content">
        <!-- BEGIN PAGE HEADER-->
        <!-- BEGIN PAGE BAR -->
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li>
                    <a href="index.html">Events</a>
                </li>
            </ul>
        </div>
        <!-- END PAGE BAR -->
        <!-- BEGIN PAGE TITLE-->
        <h1 class="page-title" style="float: left;">
            Events
            <small>Add-Edit-Delete Event</small>
        </h1>
        <h1>
            @{ 
                Session["selection"] = "";
            }
            <a href="@Url.Action("CreateEvent", "Event", new { EventType = "back" })" style="float: right;" class="btn green">
                Add New
                <i class="fa fa-plus"></i>
            </a>
        </h1>
        
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">

                @{
                    int conf = ConferenceList.Count;
                        if (conf > 0)
                        {
                            <div class="portlet light portlet-fit bordered" style="border-bottom: 0 !important;">
                                <div class="portlet box green">
                                    <div class="portlet-title">
                                        <div class="caption">
                                            <i class=" icon-layers font-white"></i>
                                            <span class="caption-subject font-white sbold">Conference List</span>
                                        </div>
                                    </div>
                                    <div class="portlet-body">
                                        <table class="table table-striped table-hover table-bordered">
                                            <thead>
                                                <tr>
                                                    <th> Conference Name </th>
                                                    <th style="text-align:center; width: 80px;"> Edit </th>
                                                    <th style="text-align:center; width: 80px;"> Delete </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @{
                                                    for (int i = conf-1; i >= 0; i--)
                                                    {
                                                        String hidden = "hidden-td1" + (i + 1);
                                                        <tr>
                                                            <td>
                                                                <a  href="@Url.Action("EventInfoDetails","Event",new { eventinfodet = @ConferenceList[i].Id })">
                                                                    @ConferenceList[i].Name
                                                                </a>
                                                            </td>
                                                            @{
                                                                if (ConferenceList[i].IsActive == true)
                                                                {
                                                                    <td style="text-align:center; cursor:pointer;">
                                                                        @Html.ActionLink("Edit", "EventDetails", new { eventdet = @ConferenceList[i].Id })
                                                                    </td>
                                                                    <td class="pull-left-right delete-type" data-td="@hidden" style="text-align:center; cursor:pointer;"> Delete </td>
                                                                }
                                                                else
                                                                {
                                                                    <td style="text-align:center; cursor:pointer;">
                                                                        @Html.ActionLink("Recover", "RecoverEvent", new { eventdet = @ConferenceList[i].Id })
                                                                    </td>
                                                                    <td class="pull-left-right delete-type" style="text-align:center; cursor:default; color: #ed6b75;"> Deleted </td>
                                                                }
                                                            }
                                                            
                                                            
                                                        </tr>

                                                        // Burası delete için

                                                        using (Html.BeginForm())
                                                        {
                                                            @Html.AntiForgeryToken()
                                                            <tr>
                                                                <td class="display-none @hidden">
                                                                    <div style="float: left; margin-top: 8px;">
                                                                        Are you sure to delete @ConferenceList[i].Name?
                                                                    </div> 
                                                                </td>
                                                                <td  class="display-none @hidden">
                                                                    <a href="/Map/MapCreate" id="continue-btn" class="btn btn-default pull-right" style="text-align:center; margin:0px; margin-right: 8px; border-color: #36c6d3; color: #36c6d3"> No </a>
                                                                </td>
                                                                <td class="display-none @hidden">
                                                                    <a class="btn btn-default green" style="margin-left: 8px; margin-right: 0px;" href="@Url.Action("DeleteApprove","Event",new { id = ConferenceList[i].Id })">
                                                                        Yes
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        }

                                                    }
                                                }

                                            </tbody>
                                        </table>
                                        <a href="@Url.Action("SelectType", "Event", new { EventType = "Konferans" })" id="continue-btn" class="btn btn-outline green button-next">
                                            Add Conference
                                            <i class="fa fa-plus"></i>
                                        </a>
                                    </div>
                                </div>

                            </div>
                                                    }
                                                    else
                                                    {
                                                        <div class="portlet light portlet-fit bordered" style="border-bottom: 0 !important;">
                                                            <div class="portlet box green">
                                                                <div class="portlet-title">
                                                                    <div class="caption">
                                                                        <i class="icon-layers font-white"></i>
                                                                        <span class="caption-subject font-white sbold">Conference List</span>
                                                                    </div>
                                                                </div>
                                                                <div class="portlet-body">
                                                                    <a href="@Url.Action("SelectType", "Event", new { EventType = "Konferans" })" id="continue-btn" class="btn btn-outline green button-next">
                                                                        Add Conference
                                                                        <i class="fa fa-plus"></i>
                                                                    </a>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    }

                }

                @{
                    int meet = MeetingList.Count;
                        if (meet > 0)
                        {
                            <div class="portlet light portlet-fit bordered" style="border-bottom: 0 !important;">
                                <div class="portlet box green">
                                    <div class="portlet-title">
                                        <div class="caption">
                                            <i class="icon-layers font-white"></i>
                                            <span class="caption-subject font-white sbold">Meeting List</span>
                                        </div>
                                    </div>
                                    <div class="portlet-body">
                                        <table class="table table-striped table-hover table-bordered">
                                            <thead>
                                                <tr>
                                                    <th> Meeting Name </th>
                                                    <th style="text-align:center; width: 80px;"> Edit </th>
                                                    <th style="text-align:center; width: 80px;"> Delete </th>
                                                </tr>
                                            </thead>
                                            <tbody>


                                                @{
                                                    for (int i = meet-1; i >= 0; i--)
                                                    {
                                                        String hidden = "hidden-td2" + (i + 1);
                                                        <tr>
                                                            <td>
                                                                <a href="@Url.Action("EventInfoDetails","Event",new { eventinfodet = @MeetingList[i].Id })">
                                                                    @MeetingList[i].Name
                                                                </a>
                                                            </td>
                                                            @{
                                                                if (MeetingList[i].IsActive == true)
                                                                {
                                                                    <td style="text-align:center; cursor:pointer;">
                                                                        @Html.ActionLink("Edit", "EventDetails", new { eventdet = @MeetingList[i].Id })
                                                                    </td>
                                                                    <td class="pull-left-right delete-type" data-td="@hidden" style="text-align:center; cursor:pointer;"> Delete </td>
                                                                }
                                                                else
                                                                {
                                                                    <td style="text-align:center; cursor:pointer;">
                                                                        @Html.ActionLink("Recover", "RecoverEvent", new { eventdet = @MeetingList[i].Id })
                                                                    </td>
                                                                    <td class="pull-left-right delete-type" style="text-align:center; cursor:default; color: #ed6b75;"> Deleted </td>
                                                                }
                                                            }
                                                            
                                                        </tr>

                                                        // Burası delete için

                                                        using (Html.BeginForm())
                                                        {
                                                            @Html.AntiForgeryToken()
                                                            <tr>
                                                                <td class="display-none @hidden">
                                                                    <div style="float: left; margin-top: 8px;">
                                                                        Are you sure to delete @MeetingList[i].Name?
                                                                    </div>
                                                                </td>
                                                                <td class="display-none @hidden">
                                                                    <a href="/Map/MapCreate" id="continue-btn" class="btn btn-default pull-right" style="text-align:center; margin:0px; margin-right: 8px; border-color: #36c6d3; color: #36c6d3"> No </a>
                                                                </td>
                                                                <td class="display-none @hidden">
                                                                    <a class="btn btn-default green" style="margin-left: 8px; margin-right: 0px;" href="@Url.Action("DeleteApprove","Event",new { id = MeetingList[i].Id })">
                                                                        Yes
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        }

                                                    }
                                                }

                                                

                                            </tbody>
                                        </table>
                                        <a href="@Url.Action("SelectType", "Event", new { EventType = "Meeting" })" id="continue-btn" class="btn btn-outline green button-next">
                                            Add Meeting
                                            <i class="fa fa-plus"></i>
                                        </a>
                                    </div>
                                </div>

                            </div>
                                                    }
                                                    else
                                                    {
                                                        <div class="portlet light portlet-fit bordered" style="border-bottom: 0 !important;">
                                                            <div class="portlet box green">
                                                                <div class="portlet-title">
                                                                    <div class="caption">
                                                                        <i class="icon-layers font-white"></i>
                                                                        <span class="caption-subject font-white sbold">Meeting List</span>
                                                                    </div>
                                                                </div>
                                                                <div class="portlet-body">                                                                  
                                                                    <a href="@Url.Action("SelectType", "Event", new { EventType = "Meeting" })" id="continue-btn" class="btn btn-outline green button-next">
                                                                        Add Meeting
                                                                        <i class="fa fa-plus"></i>
                                                                    </a>
                                                                </div>
                                                            </div>

                                                        </div>
                                                                                }

                }


                @{
                    int pres = PresentationList.Count;
                        if (pres > 0)
                        {
                            <div class="portlet light portlet-fit bordered" style="border-bottom: 0 !important;">
                                <div class="portlet box green">
                                    <div class="portlet-title">
                                        <div class="caption">
                                            <i class=" icon-layers font-white"></i>
                                            <span class="caption-subject font-white sbold">Presentation List</span>
                                        </div>
                                    </div>
                                    <div class="portlet-body">
                                        <table class="table table-striped table-hover table-bordered">
                                            <thead>
                                                <tr>
                                                    <th> Presentation Name </th>
                                                    <th style="text-align:center; width: 80px;"> Edit </th>
                                                    <th style="text-align:center; width: 80px;"> Delete </th>
                                                </tr>
                                            </thead>
                                            <tbody>


                                                @{
                                                    for (int i = pres-1; i >= 0; i--)
                                                    {
                                                        String hidden = "hidden-td3" + (i + 1);
                                                        <tr>
                                                            <td>
                                                                <a href="@Url.Action("EventInfoDetails","Event",new { eventinfodet = @PresentationList[i].Id })">
                                                                    @PresentationList[i].Name
                                                                </a>
                                                            </td>
                                                            @{
                                                                if (PresentationList[i].IsActive == true)
                                                                {
                                                                    <td style="text-align:center; cursor:pointer;">
                                                                        @Html.ActionLink("Edit", "EventDetails", new { eventdet = PresentationList[i].Id })
                                                                    </td>
                                                                    <td class="pull-left-right delete-type" data-td="@hidden" style="text-align:center; cursor:pointer;"> Delete </td>
                                                                }
                                                                else
                                                                {
                                                                    <td style="text-align:center; cursor:pointer;">
                                                                        @Html.ActionLink("Recover", "RecoverEvent", new { eventdet = PresentationList[i].Id })
                                                                    </td>
                                                                    <td class="pull-left-right delete-type" data-td="@hidden" style="text-align:center; cursor:default; color: #ed6b75;"> Deleted </td>
                                                                }
                                                            }
                                                            
                                                        </tr>

                                                        // Burası delete için

                                                        using (Html.BeginForm())
                                                        {
                                                            @Html.AntiForgeryToken()
                                                            <tr>
                                                                <td class="display-none @hidden">
                                                                    <div style="float: left; margin-top: 8px;">
                                                                        Are you sure to delete @PresentationList[i].Name?
                                                                    </div>
                                                                </td>
                                                                <td class="display-none @hidden">
                                                                    <a href="/Map/MapCreate" id="continue-btn" class="btn btn-default pull-right" style="text-align:center; margin:0px; margin-right: 8px; border-color: #36c6d3; color: #36c6d3"> No </a>
                                                                </td>
                                                                <td class="display-none @hidden">
                                                                    <a class="btn btn-default green" style="margin-left: 8px; margin-right: 0px;" href="@Url.Action("DeleteApprove","Event",new { id = PresentationList[i].Id })">
                                                                        Yes
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        }

                                                    }

                                                }



                                            </tbody>
                                        </table>
                                        <a href="@Url.Action("SelectType", "Event", new { EventType = "Sunum" })" id="continue-btn" class="btn btn-outline green button-next">
                                            Add Presentation
                                            <i class="fa fa-plus"></i>
                                        </a>
                                    </div>
                                </div>

                            </div>
                                                    }
                                                    else
                                                    {
                                                        <div class="portlet light portlet-fit bordered" style="border-bottom: 0 !important;">
                                                            <div class="portlet box green">
                                                                <div class="portlet-title">
                                                                    <div class="caption">
                                                                        <i class="icon-layers font-white"></i>
                                                                        <span class="caption-subject font-white sbold">Presentation List</span>
                                                                    </div>
                                                                </div>
                                                                <div class="portlet-body">
                                                                    <a href="@Url.Action("SelectType", "Event", new { EventType = "Sunum" })" id="continue-btn" class="btn btn-outline green button-next">
                                                                        Add Presentation
                                                                        <i class="fa fa-plus"></i>
                                                                    </a>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    }

                }


                <!-- END EXAMPLE TABLE PORTLET-->
            </div>
        </div>
    </div>
    <!-- END CONTENT BODY -->
</div>


<!-- BEGIN CORE PLUGINS -->
<script src="../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="../assets/global/scripts/datatable.js" type="text/javascript"></script>
<script src="../assets/global/plugins/datatables/datatables.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js" type="text/javascript"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN THEME GLOBAL SCRIPTS -->
<script src="../assets/global/scripts/app.min.js" type="text/javascript"></script>
<!-- END THEME GLOBAL SCRIPTS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../assets/pages/scripts/table-datatables-editable.min.js" type="text/javascript"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN THEME LAYOUT SCRIPTS -->
<script src="../assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
<script src="../assets/layouts/layout/scripts/demo.min.js" type="text/javascript"></script>
<script src="../assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
<!-- END THEME LAYOUT SCRIPTS -->
